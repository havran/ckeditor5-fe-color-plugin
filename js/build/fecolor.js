!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.CKEditor5=o():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.fecolor=o())}(self,()=>(()=>{var e=[(e,o,t)=>{e.exports=t(4)("./src/core.js")},(e,o,t)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FECOLOR=void 0,o.addColorSelectorToDropdown=function({dropdownView:e,colors:o,columns:t,removeButtonLabel:s,colorPickerLabel:l,documentColorsLabel:i,documentColorsCount:n,colorPickerViewConfig:c}){const a=e.locale,d=new r.ColorSelectorView(a,{colors:o,columns:t,removeButtonLabel:s,colorPickerLabel:l,documentColorsLabel:i,documentColorsCount:n,colorPickerViewConfig:c});return e.colorSelectorView=d,e.panelView.children.add(d),d};const r=t(5);o.FECOLOR="fecolor"},function(e,o,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.FeColorUI=void 0;const s=t(0),l=t(5),i=t(1),n=r(t(8));class c extends s.Plugin{init(){const e=this.editor,o=(e.locale,e.commands.get(i.FECOLOR)),t=e.config.get(i.FECOLOR).colors.map(e=>{var o;return{color:e.color,label:e.label,options:{hasBorder:(null===(o=e.options)||void 0===o?void 0:o.hasBorder)||!1}}});e.ui.componentFactory.add(i.FECOLOR,r=>{const s=(0,l.createDropdown)(r);let c=!1;const a=(0,i.addColorSelectorToDropdown)({dropdownView:s,colors:t,columns:5,removeButtonLabel:"Remove color",colorPickerLabel:"Color picker",documentColorsLabel:"Document colors",documentColorsCount:4,colorPickerViewConfig:!1});return a.bind("selectedColor").to(o,"value"),s.buttonView.set({label:"Select color",icon:n.default,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),s.bind("isEnabled").to(o),s.on("change:isOpen",(e,o,t)=>{c||(c=!0,s.colorSelectorView.appendUI()),t&&(a.updateSelectedColors(),a.showColorGridsFragment())}),s.colorSelectorView.on("execute",(o,t)=>{s.isOpen&&e.execute(i.FECOLOR,{value:t.value}),"colorPicker"!==t.source&&e.editing.view.focus()}),s})}}o.FeColorUI=c},function(e,o,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.getFeColorMap=o.getFeColorClasses=void 0;const s=r(t(11));o.getFeColorClasses=e=>{const o=[];return e.colors.forEach(e=>{o.push(e.class)}),o};o.getFeColorMap=e=>{const o=new s.default;return e.colors.forEach(e=>{o.set(e.color,e.class)}),o}},e=>{"use strict";e.exports=CKEditor5.dll},(e,o,t)=>{e.exports=t(4)("./src/ui.js")},,(e,o,t)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FeColor=void 0;const r=t(0),s=t(2),l=t(9);class i extends r.Plugin{static get requires(){return[l.FeColorEditing,s.FeColorUI]}static get pluginName(){return"FeColor"}}o.FeColor=i},(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r});const r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.4 10.3 10 4.5l-2.4 5.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2"/></svg>'},(e,o,t)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FeColorEditing=void 0;const r=t(0),s=t(10),l=t(3),i=t(1);class n extends r.Plugin{init(){this._defineSchema(),this._defineConverters()}_defineSchema(){this.editor.model.schema.extend("$text",{allowAttributes:i.FECOLOR})}_defineConverters(){const e=this.editor.conversion,o=this.editor.config.get(i.FECOLOR),t=(0,l.getFeColorMap)(o);(0,l.getFeColorClasses)(o).forEach(o=>{e.for("upcast").elementToAttribute({view:{name:"span",classes:[o]},model:{key:i.FECOLOR,value:t.getReverse(o)},converterPriority:"high"})}),e.for("downcast").attributeToElement({model:i.FECOLOR,view:(e,{writer:o})=>{var r;return o.createAttributeElement("span",{class:null!==(r=t.getForward(e))&&void 0!==r?r:e})},converterPriority:"high"}),this.editor.commands.add(i.FECOLOR,new s.FeColorCommand(this.editor))}}o.FeColorEditing=n},(e,o,t)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FeColorCommand=void 0;const r=t(0),s=t(1);class l extends r.Command{refresh(){const e=this.editor.model,o=e.document;this.value=o.selection.getAttribute(s.FECOLOR),this.isEnabled=e.schema.checkAttributeInSelection(o.selection,s.FECOLOR)}execute(e={}){const o=this.editor.model,t=o.document.selection,r=e.value;o.change(e=>{(e=>{if(t.isCollapsed)r?e.setSelectionAttribute(s.FECOLOR,r):e.removeSelectionAttribute(s.FECOLOR);else{const l=o.schema.getValidRanges(t.getRanges(),s.FECOLOR);for(const o of l)r?e.setAttribute(s.FECOLOR,r,o):e.removeAttribute(s.FECOLOR,o)}})(e)})}}o.FeColorCommand=l},(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.default=class{constructor(){this.forwardMap=new Map,this.reverseMap=new Map}set(e,o){this.forwardMap.set(e,o),this.reverseMap.set(o,e)}getForward(e){return this.forwardMap.get(e)}getReverse(e){return this.reverseMap.get(e)}hasForward(e){return this.forwardMap.has(e)}hasReverse(e){return this.reverseMap.has(e)}delete(e){const o=this.forwardMap.get(e);return void 0!==o&&(this.forwardMap.delete(e),this.reverseMap.delete(o),!0)}}}],o={};function t(r){var s=o[r];if(void 0!==s)return s.exports;var l=o[r]={exports:{}};return e[r].call(l.exports,l,l.exports,t),l.exports}t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";var e=r;const o=t(7);e.default={FeColor:o.FeColor}})(),r=r.default})());